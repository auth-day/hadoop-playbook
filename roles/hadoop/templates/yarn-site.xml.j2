<configuration>

<!-- Site specific YARN configuration properties -->

<property>
  <name>yarn.scheduler.capacity.root.queues</name>
  <value>default</value>
  <description>The queues at the this level (root is the root queue).</description>
</property>

<property>
  <name>yarn.scheduler.capacity.root.default.capacity</name>
  <value>100</value>
  <description>Capacity of the queue (sum of all capacities shoud be 100).</description>
</property>

<property>
  <name>yarn.resourcemanager.resource-tracker.address</name>
  <value>{{ master }}:8031</value>
  <description>Tracker address.</description>
</property>

<property>
  <name>yarn.log-aggregation-enable</name>
  <value>true</value>
  <description>Whether to enable log aggregation.</description>
</property>

<property>
  <name>yarn.log-aggregation.retain-seconds</name>
  <value>604800</value>
  <description>How long to keep aggregation logs before deleting them.</description>
</property>

<property>
  <name>yarn.nodemanager.remote-app-log-dir</name>
  <value>/opt/hadoop-data/log/hadoop-yarn/apps</value>
  <description>The directory where logs are aggregated.</description>
</property>

<property>
  <name>yarn.app.mapreduce.am.staging-dir</name>
  <value>/hadoop</value>
  <description>The staging dir used while submitting jobs.</description>
</property>

<property>
  <name>yarn.resourcemanager.address</name>
  <value>{{ master }}:8032</value>
  <description>ResourceManager host:port for clients to submit jobs.</description>
</property>

<property>
  <name>yarn.resourcemanager.scheduler.address</name>
  <value>{{ master }}:8030</value>
  <description>ResourceManager Scheduler RPC (for ApplicationMasters).</description>
</property>

<property>
  <name>yarn.resourcemanager.hostname</name>
  <value>{{ master }}</value>
  <description>ResourceManager hostname.</description>
</property>

<property>
  <name>yarn.resourcemanager.webapp.address</name>
  <value>{{ master }}:8088</value>
</property>

<property>
  <name>yarn.resourcemanager.admin.address</name>
  <value>{{ master }}:8033</value>
</property>

<property>
  <name>yarn.nodemanager.localizer.address</name>
  <value>${yarn.nodemanager.hostname}:8040</value>
</property>

<property>
  <name>yarn.nodemanager.webapp.address</name>
  <value>${yarn.nodemanager.hostname}:8042</value>
</property>

<property>
  <name>yarn.nodemanager.address</name>
  <value>${yarn.nodemanager.hostname}:8888</value>
</property>

<property>
  <name>yarn.nodemanager.aux-services</name>
  <value>mapreduce_shuffle</value>
  <description>Shuffle service that needs to be set for Map Reduce applications.</description>
</property>


<!--
     <property>
  <name>yarn.nodemanager.resource.memory-mb</name>
  <value>5120</value>
  <description>...</description>
</property>
-->


<property>
  <name>yarn.scheduler.minimum-allocation-mb</name>
  <value>512</value>
  <description>...</description>
</property>

<!-- changed here from 6000 to 3000 -->
<property>
  <name>yarn.scheduler.maximum-allocation-mb</name>
  <value>3000</value>
  <description>...</description>
</property>

<property>
  <description>Indicate to clients whether Timeline service is enabled or not.
  If enabled, the TimelineClient library used by end-users will post entities
  and events to the Timeline server.</description>
  <name>yarn.timeline-service.enabled</name>
  <value>false</value>
</property>

<property>
  <description>The hostname of the Timeline service web application.</description>
  <name>yarn.timeline-service.hostname</name>
  <value>{{ master }}</value>
</property>

<property>
  <description>Enables cross-origin support (CORS) for web services where
  cross-origin web response headers are needed. For example, javascript making
  a web services request to the timeline server.</description>
  <name>yarn.timeline-service.http-cross-origin.enabled</name>
  <value>true</value>
</property>

<property>
  <name>yarn.timeline-service.http-authentication.type</name>
  <value>simple</value>
</property>

<property>
  <name>yarn.timeline-service.http-authentication.simple.anonymous.allowed</name>
  <value>true</value>
</property>


<!--
     <property>
  <name>yarn.nodemanager.resource.cpu-vcores</name>
  <value>8</value>
</property>
-->


<property>
  <name>yarn.scheduler.minimum-allocation-vcores</name>
  <value>1</value>
</property>

<property>
  <name>yarn.scheduler.maximum-allocation-vcores</name>
  <value>20</value>
</property>


<property>
  <name>yarn.nodemanager.vmem-check-enabled</name>
  <value>false</value>
</property>

<property>
  <name>yarn.nodemanager.vmem-pmem-ratio</name>
  <value>4</value>
</property>

<property>
  <name>yarn.nodemanager.delete.debug-delay-sec</name>
  <value>7200</value>
</property>

<property>
  <name>yarn.log.server.url</name>
  <value>http://{{ master }}:10020/jobhistory/logs</value>
</property>

</configuration>
